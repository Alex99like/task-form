!function(){"use strict";var e={91:function(e){e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},418:function(e,t,s){e.exports=s.p+"assets/icons/favicon.ico"}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,s),a.exports}s.m=e,s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e}(),s.b=document.baseURI||self.location.href,function(){class e{static filedRequired(e){const{input:t}=e;t.value.trim().length<=0&&e.addError("this field is required")}static checkFieldText(t,s,i){const{input:r}=t,a=r.value.trim();a.length<s?t.addError(`min count of characters ${s}`):a.length>i?t.addError(`max count of characters ${i}`):t.clearError(),e.filedRequired(t)}static checkDateError(t){Date.now()<new Date(t.input.value).getTime()?t.addError("No Valid Date "):t.clearError(),e.filedRequired(t)}static checkEmailError(t){/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(t.input.value)?t.clearError():t.addError("No Valid Email - format (login@mail.com)"),e.filedRequired(t)}static checkPassword(t){const s=t.input.value;s.length<8?t.addError("min count of characters 8"):/[A-Z]/.test(s)?/[1-9]/.test(s)?/[!@#$%]/.test(s)?t.clearError():t.addError("must contain at least one character from !@#$%"):t.addError("must contain at least one digit 1-9"):t.addError("1 character must be uppercase"),e.filedRequired(t)}static checkPasswordRepeat(t,s){t.input.value!==s.input.value?s.addError("the passwords don't match"):s.clearError(),e.filedRequired(s)}}class t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button";this.button=document.createElement("button"),this.button.type=e,this.button.classList.add("active")}toggleActive(e){e?(this.button.disabled=!0,this.button.classList.remove("active")):(this.button.disabled=!1,this.button.classList.add("active"))}render(e){this.button.textContent="SUBMIT",this.button.classList.add("submit-form"),e.append(this.button)}}class i{constructor(e,t,s,i){this.container=document.createElement("label"),this.input=document.createElement("input"),this.placeholder=document.createElement("span"),this.wrapper=document.createElement("div"),this.success=document.createElement("div"),this.failed=document.createElement("div"),this.icon=i,this.name=e,this.placeholderText=t,this.type=s,this.errorField=document.createElement("span"),this.error=""}checkActive(){this.input.addEventListener("focus",(()=>{this.placeholder.classList.add("active"),this.container.classList.add("focus")})),this.input.addEventListener("blur",(()=>{this.container.classList.remove("focus"),this.input.value.length||this.placeholder.classList.remove("active")}))}createField(){this.input.type=this.type,this.placeholder.textContent=this.placeholderText,this.container.htmlFor=this.name,this.input.id=this.name,this.container.classList.add("field"),this.wrapper.classList.add("wrapper"),this.placeholder.classList.add("placeholder"),this.wrapper.append(this.input),this.wrapper.append(this.placeholder),this.input.name=this.name,this.success.classList.add("success"),this.container.append(this.success),this.failed.classList.add("failed"),this.container.append(this.failed),this.wrapper.insertAdjacentHTML("afterbegin",this.icon),this.container.append(this.wrapper)}addError(e){this.errorField.textContent=e,this.error=e,this.failed.classList.add("active"),this.success.classList.remove("active"),this.errorField.classList.add("active")}clearError(){this.errorField.textContent="",this.error="",this.success.classList.add("active"),this.failed.classList.remove("active"),this.errorField.classList.remove("active")}errorHandler(){this.errorField.classList.add("error-field"),this.container.append(this.errorField)}render(e){this.createField(),this.checkActive(),this.errorHandler(),e.append(this.container)}}class r{constructor(e,t){this.container=document.createElement("label"),this.input=document.createElement("input"),this.placeholder=document.createElement("span"),this.input.type="date",this.name=e,this.input.name=e,this.errorField=document.createElement("span"),this.error="",this.placeholderText=t,this.success=document.createElement("div"),this.failed=document.createElement("div")}createField(){this.container.classList.add("field-date"),this.placeholder.textContent=this.placeholderText,this.container.append(this.placeholder),this.success.classList.add("success"),this.container.append(this.success),this.failed.classList.add("failed"),this.container.append(this.failed),this.container.append(this.input)}checkActive(){this.input.addEventListener("focus",(()=>{this.placeholder.classList.add("active"),this.input.classList.add("focus")})),this.input.addEventListener("blur",(()=>{this.input.classList.remove("focus"),this.placeholder.classList.remove("active")}))}addError(e){this.errorField.textContent=e,this.error=e,this.failed.classList.add("active"),this.success.classList.remove("active"),this.errorField.classList.add("active")}clearError(){this.errorField.textContent="",this.error="",this.success.classList.add("active"),this.failed.classList.remove("active"),this.errorField.classList.remove("active")}errorHandler(){this.errorField.classList.add("error-field"),this.container.append(this.errorField)}render(e){this.errorHandler(),this.createField(),this.checkActive(),e.append(this.container)}}class a{constructor(){this.container=document.createElement("div"),this.loaderContainer=document.createElement("div"),this.success=document.createElement("div"),this.failed=document.createElement("div"),this.points=[],this.createPoints()}createPoints(){for(let e=1;e<=20;e++){const t=document.createElement("span");t.style=`--i:${e}`,this.points.push(t),this.loaderContainer.append(t)}}failedCall(){this.failed.classList.add("failed-loader"),this.loaderContainer.remove(),this.container.append(this.success),setTimeout((()=>{this.failed.remove(),this.container.remove()}),1300)}successCall(){this.success.classList.add("success-loader"),this.loaderContainer.remove(),this.container.append(this.success),setTimeout((()=>{this.success.remove(),this.container.remove()}),1300)}createLoader(){this.container.classList.add("loader-container","no-active"),this.loaderContainer.classList.add("loader"),this.container.append(this.loaderContainer)}callLoader(){}render(e){this.createLoader(),e.append(this.container)}}var n=s(91),c=s.n(n),o=new URL(s(418),s.b);c()(o);const d=new class{constructor(){this.loader=new a,this.form=document.createElement("form"),this.fields={firstName:new i("first-name","First Name","text",'<ion-icon class="icon" name="person"></ion-icon>'),lastName:new i("last-name","Last Name","text",'<ion-icon class="icon" name="people"></ion-icon>'),date:new r("date","Date of Birth"),email:new i("email","Email","email",'<ion-icon class="icon" name="mail"></ion-icon>'),password:new i("password","Password","password",'<ion-icon class="icon" name="lock-closed"></ion-icon>'),passwordRepeat:new i("password-repeat","Password Repeat","password",'<ion-icon class="icon" name="document-lock"></ion-icon>')},this.button=new t("submit"),this.errors=[]}createForm(){Object.values(this.fields).forEach((e=>{e.render(this.form)})),this.button.render(this.form)}handlerChange(){Object.values(this.fields).forEach((e=>{e.input.addEventListener("input",(e=>{const{name:t}=e.target;this.checkFields(t),this.errors=Object.values(this.fields).map((e=>e.error)).filter((e=>!!e)),this.disabledSubmit()}))}))}farmData(){const e={};return Array.from(this.form.elements).forEach((t=>{const{name:s,value:i}=t;s&&(e[s]=i)})),e}disabledSubmit(){this.errors.length?this.button.toggleActive(!0):this.button.toggleActive(!1)}checkErrors(){this.checkFields("",!0),this.errors=Object.values(this.fields).map((e=>e.error)).filter((e=>!!e)),this.disabledSubmit()}async submitHandler(){this.form.addEventListener("submit",(e=>{if(e.preventDefault(),this.checkErrors(),this.errors.length)this.disabledSubmit();else{const e=this.farmData();this.sendRequest(e)}}))}async sendRequest(e){try{this.loader.render(this.form),this.button.toggleActive(!0);const t=await fetch("https://jsonplaceholder.typicode.com/posts",{body:JSON.stringify(e),method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"}}),s=await t.json();console.log(s),this.loader.successCall(),this.button.toggleActive(!1)}catch(e){this.loader.failedCall()}}checkFields(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{firstName:i,lastName:r,email:a,date:n,password:c,passwordRepeat:o}=this.fields,{checkFieldText:d,checkDateError:l,checkEmailError:h,checkPassword:u,checkPasswordRepeat:p}=e;(t===i.name||s)&&d(i,2,25),(t===r.name||s)&&d(r,2,25),(t===n.name||s)&&l(n),(t===a.name||s)&&h(a),(t===c.name||s)&&u(c),(t===o.name||s)&&p(c,o)}render(e){this.createForm(),this.handlerChange(),this.submitHandler(),this.form.classList.add("form-container"),e.append(this.form)}},l=document.createElement("main");l.classList.add("main-container"),document.body.append(l),d.render(l)}()}();